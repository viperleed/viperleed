.. include:: /substitutions.rst

.. _paramsection:

List of PARAMETERS by section
=============================

This page lists parameters for ViPErLEED by which section of
ViPErLEED/TensErLEED they are (most) relevant for. Parameters
may occur multiple times, and not all parameters are listed.
See the :ref:`main PARAMETERS page<PARAMETERS>` for a complete
alphabetical list and other groupings.

.. note::
    While all parameters have a default value, parameters marked with
    a "**→**" usually require user input for simple but non-trivial
    systems.

Initialization
--------------

.. table::
  :width: 100%
  :widths: 30 70

  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | Parameter                        | Function                                                                                                     |
  +==================================+==============================================================================================================+
  | :ref:`BEAMINCIDENCE`             | Incidence angle and direction of the electron beam in experiment                                             |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`BULK_LIKE_BELOW`           | Onset of unrelaxed slab, for automatic detection of minimal bulk and bulk repeat                             |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`BULK_REPEAT`               | Thickness of the bulk repeat unit, or a bulk repeat vector                                                   |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`ELEMENT_MIX`               | Declare that sites in the :ref:`POSCAR` file can be occupied by different chemical elements                  |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`LAYER_CUTS`                | How to separate the :ref:`POSCAR` file into layers                                                           |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`N_BULK_LAYERS`       | Define how many layers in the :ref:`POSCAR` file represent the bulk                                          |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SITEDEF`             | Define which sites in the :ref:`POSCAR` file are special, i.e. have different vibrational amplitude          |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SUPERLATTICE`        | The relationship between the surface and bulk unit cells                                                     |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRIZE_INPUT`          | Whether to move atoms in the :ref:`POSCAR` file to perfectly match the symmetry                              |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`SYM_EPS`                   | Error tolerance during symmetry search                                                                       |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`ISYM`                      | Manually set a symmetry, or turn symmetry off                                                                |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_FIND_ORI`         | Whether the symmetry search should look for the highest-symmetry point.                                      |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`THEO_ENERGIES`             | What energy range to calculate                                                                               |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`T_DEBYE`                   | Debye temperature of the system (only for automatically generating :ref:`VIBROCC`)                           |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`T_EXPERIMENT`              | Measurement temperature in experiment (only for automatically generating :ref:`VIBROCC`)                     |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`VIBR_AMP_SCALE`            | Scaling factor, only for automatically generating :ref:`VIBROCC`                                             |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+

.. note::
  Parameters setting the symmetry strongly affect all sections, but are
  not listed again below.

Reference calculation
---------------------

.. table::
  :width: 100%
  :widths: 30 70

  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | Parameter                        | Function                                                                                                     |
  +==================================+==============================================================================================================+
  | :ref:`ATTENUATION_EPS`           | Cutoff for beam propagation                                                                                  |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`BEAMINCIDENCE`             | Incidence angle and direction of the electron beam in experiment                                             |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`BULKDOUBLEEPS`             | Convergence criterion for bulk thickness in the TensErLEED calculation                                       |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`BULKDOUBLEITER`            | Maximum bulk thickness in TensErLEED calculation                                                             |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`BULK_REPEAT`               | Thickness of the bulk repeat unit, or a bulk repeat vector                                                   |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`ELEMENT_MIX`               | Declare that sites in the :ref:`POSCAR` file can be occupied by different chemical elements                  |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`FILWF`                     | The LEED filament work function                                                                              |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`KEEP_REFCALC_DIRS`         | Toggle to keep the reference calculating execution directories                                               |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`LAYER_CUTS`                | How to separate the :ref:`POSCAR` file into layers                                                           |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`LMAX`                      | Maximum angular momentum number; usually determined via :ref:`PHASESHIFTMIN`                                 |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`N_BULK_LAYERS`       | Define how many layers in the :ref:`POSCAR` file represent the bulk                                          |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`NCORES`              | The number of CPUs to use                                                                                    |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`PHASESHIFTMIN`             | Cutoff in phaseshifts magnitudes to determine :ref:`LMAX`                                                    |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`SCREEN_APERTURE`           | The aperture of the acceptance cone of the LEED screen                                                       |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SITEDEF`             | Define which sites in the :ref:`POSCAR` file are special, i.e. have different vibrational amplitude          |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SUPERLATTICE`        | The relationship between the surface and bulk unit cells                                                     |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`TENSOR_OUTPUT`             | Disable Tensor output for some or all layers                                                                 |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`THEO_ENERGIES`             | What energy range to calculate                                                                               |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`V0_IMAG`                   | Imaginary part of the inner potential                                                                        |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`MUFTIN`                    | Real part of the inner potential                                                                             |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`v0_z_onset`                | How far from the topmost atom the inner potential begins                                                     |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+

|R-factor| calculation
----------------------

.. table::
  :width: 100%
  :widths: 30 70

  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | Parameter                        | Function                                                                                           |
  +==================================+====================================================================================================+
  | :ref:`BEAMINCIDENCE`             | Incidence angle and direction of the electron beam in experiment                                   |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`IVSHIFTRANGE`              | Range and step size for shifting experimental and theoretical curves during |R-factor| calculation |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`PLOT_IV`                   | Change appearance of the |R-factor| plot files                                                     |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`RFACTORTYPE`               | Which definition of the |R factor| to use                                                          |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`RFACTORSMOOTH`             | How strongly experimental beams are smoothed                                                       |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | **→** :ref:`SUPERLATTICE`        | The relationship between the surface and bulk unit cells                                           |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`THEO_ENERGIES`             | What energy range to calculate                                                                     |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`V0_IMAG`                   | Imaginary part of the inner potential                                                              |
  +----------------------------------+----------------------------------------------------------------------------------------------------+

Delta-amplitudes calculation
----------------------------

Behavior is mainly governed by the :ref:`DISPLACEMENTS` file. Some relevant parameters are:

.. table::
  :width: 100%
  :widths: 30 70

  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | Parameter                        | Function                                                                                                     |
  +==================================+==============================================================================================================+
  | :ref:`ELEMENT_MIX`               | Declare that sites in the :ref:`POSCAR` file can be occupied by different chemical elements                  |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`LMAX`                      | Maximum angular momentum number; usually determined via :ref:`PHASESHIFTMIN`                                 |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`NCORES`              | The number of CPUs to use                                                                                    |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`PHASESHIFTMIN`             | Cutoff in phaseshifts magnitudes to determine :ref:`LMAX`                                                    |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SITEDEF`             | Define which sites in the :ref:`POSCAR` file are special, i.e. have different vibrational amplitude          |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SUPERLATTICE`        | The relationship between the surface and bulk unit cells                                                     |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`TENSOR_INDEX`              | Which Tensor files to use for the delta calculation and search                                               |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+
  | :ref:`THEO_ENERGIES`             | What energy range to calculate                                                                               |
  +----------------------------------+--------------------------------------------------------------------------------------------------------------+

Search
------

Behavior is also governed by the :ref:`DISPLACEMENTS` file.
The most relevant parameters are:

.. table::
  :width: 100%
  :widths: 30 70

  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | Parameter                        | Function                                                                                           |
  +==================================+====================================================================================================+
  | :ref:`BEAMINCIDENCE`             | Incidence angle and direction of the electron beam in experiment                                   |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`IVSHIFTRANGE`              | Range and step size for shifting experimental and theoretical curves during |R-factor| calculation |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`LOG_SEARCH`                | Output the search log file (may be very large, mostly for debugging)                               |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | **→** :ref:`NCORES`              | The number of CPUs to use                                                                          |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`RFACTORTYPE`               | Which definition of the |R factor| to use                                                          |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`RFACTORSMOOTH`             | How strongly experimental beams are smoothed                                                       |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`SEARCHBEAMS`               | Whether to use |R factor| of integer, fractional, or all beams for the search                      |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_CONVERGENCE`        | Convergence criteria for the search, and convergence-dependent parameter control                   |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_CULL`               | Controls regular culling of worst-performing structures, and what to replace them with             |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`SEARCHGENMAX`              | Maximum total number of generations that the search should run for                                 |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`SEARCHPOP`                 | Number of trial structures used in the search                                                      |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`SEARCHSTART`               | How to initialize the search population                                                            |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`STOP`                      | Stop execution of ViPErLEED at next opportunity                                                    |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`TENSOR_INDEX`              | Which Tensor files to use for the delta calculation and search                                     |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`THEO_ENERGIES`             | What energy range to calculate                                                                     |
  +----------------------------------+----------------------------------------------------------------------------------------------------+
  | :ref:`V0_IMAG`                   | Imaginary part of the inner potential                                                              |
  +----------------------------------+----------------------------------------------------------------------------------------------------+

Domain search
-------------

As the :ref:`domain search<domain_calculation>`  may involve all of the
segments above, the parameters listed there are relevant. The following
additional parameters affect domains specifically:

.. table::
  :width: 100%
  :widths: 30 70

  +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                        | Function                                                                                                                                 |
  +==================================+==========================================================================================================================================+
  | :ref:`DOMAIN`                    | Define a domain for :ref:`calculations involving multiple coexisting structural domains<domain_calculation>`                             |
  +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`DOMAIN_STEP`               | Step width for structural domain coverage during search                                                                                  |
  +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_CELL_TRANSFORM`   | Relationship between a supercell and the primitive surface unit cell (only relevant for :ref:`domain calculations<domain_calculation>`)  |
  +----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
