.. _tensorszip:

Tensors
=======

Tensors generated by the reference calculation are given a a generic name of
format 'T\_\ *N*', where *N* is the number of the atom (same numbering as in
:ref:`POSCAR<POSCAR>`).

The resulting files contain the tensor quantities :math:`T^{ref}_{i;l,m;l',m'}`
(see :ref:`tensor_leed`) and reference amplitudes.
These Tensor files are then collected in a directory Tensors\_\ *XYZ*, where
*XYZ* is the 'Tensor index', a running number which is incremented by one every
time a reference calculation is executed. Finally, the input files relevant for
generating these Tensor files are added to the Tensors\_\ *XYZ* directory:
:ref:`PARAMETERS<PARAMETERS>`, :ref:`POSCAR<POSCAR>`, :ref:`VIBROCC<vibrocc>`,
:ref:`IVBEAMS<IVBEAMS>` and :ref:`_PHASESHIFTS<PHASESHIFTS>`.
When the calculation finishes, the directory Tensors\_\ *XYZ* is packed into a
n archive Tensors\_\ *XYZ*.zip, which is moved into the 'Tensors' directory.

In delta-amplitudes calculations, the Tensors with the highest index will be
used by default. The :ref:`TENSOR_INDEX<TENSOR_INDEX>`  parameter allows
specifying that an older set of Tensors should be used instead.
