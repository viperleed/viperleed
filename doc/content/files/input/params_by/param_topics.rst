.. _paramtopics:

===========================
List of parameters by topic
===========================

This page lists parameters for ViPErLEED by grouping them into 
categories. You can find an alphabetical list and other 
groupings :ref:`here<PARAMETERS>`.

.. note::
   While all parameters have a default value, parameters marked with a 
   "**→**" usually require user input for simple but non-trivial 
   systems.

TLEEDM execution
================

Defines what to calculate and where to start.

.. table::
  :width: 100%
  :widths: 25 75

  +-----------------------------------------------+--------------------------------------------------------------------------+
  | Parameter                                     | Function                                                                 |
  +===============================================+==========================================================================+
  | :ref:`HALTING<HALTING>`                       | Sensitivity to things going wrong, i.e. how easily should ViPErLEED stop |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | **→** :ref:`RUN<RUN>`                         | Which parts of ViPErLEED / TensErLEED should be run, in order            |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | :ref:`STOP<STOP>`                             | Stop execution of ViPErLEED at next opportunity                          |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | :ref:`TENSOR_INDEX<TENSOR_INDEX>`             | Which Tensor files to use for the delta calculation and search           |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | :ref:`TENSOR_OUTPUT<TOUTPUT>`                 | Disable Tensor output for some or all layers                             |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | :ref:`THEO_ENERGIES<theo_energies>`           | What energy range to calculate                                           |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | :ref:`TL_VERSION<TL_VERSION>`                 | Which version of TensErLEED to use                                       |
  +-----------------------------------------------+--------------------------------------------------------------------------+
  | :ref:`TL_IGNORE_CHECKSUM<TL_IGNORE_CHECKSUM>` | Skip calculation of TensErLEED source code checksums                     |
  +-----------------------------------------------+--------------------------------------------------------------------------+

.. _input_structure_settings:

Input Structure
===============

.. table::
  :width: 100%
  :widths: 25 75

  +------------------------------------------+----------------------------------------------------------------------------------+
  | Parameter                                | Function                                                                         |
  +==========================================+==================================================================================+
  | :ref:`BULK_LIKE_BELOW<BULK_LIKE_BELOW>`  | Onset of unrelaxed slab, for automatic detection of minimal bulk and bulk repeat |
  +------------------------------------------+----------------------------------------------------------------------------------+
  | :ref:`BULK_REPEAT<BULK_REPEAT>`          | Thickness of the bulk repeat unit, or a bulk repeat vector                       |
  +------------------------------------------+----------------------------------------------------------------------------------+
  | :ref:`LAYER_CUTS<CTRUNC>`                | How to separate the :ref:`POSCAR file<POSCAR>` into layers                       |
  +------------------------------------------+----------------------------------------------------------------------------------+
  | **→** :ref:`N_BULK_LAYERS<BLAY>`         | Define how many layers in the :ref:`POSCAR file<POSCAR>` represent the bulk      |
  +------------------------------------------+----------------------------------------------------------------------------------+
  | **→** :ref:`SUPERLATTICE<SUPERLATTICE>`  | The relationship between the surface and bulk unit cells                         |
  +------------------------------------------+----------------------------------------------------------------------------------+

Elements, vibrational amplitudes and element concentrations
===========================================================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`ELEMENT_MIX<ELSPLIT>`                                  | Declare that sites in the :ref:`POSCAR file<POSCAR>` can be occupied by different chemical elements                                      |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`ELEMENT_RENAME<ELDEF>`                                 | Declare that an element in the POSCAR file is actually a different chemical element                                                      |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`SITE_DEF<SITEDEF>`                               | Define which sites in the :ref:`POSCAR file<POSCAR>` are special, i.e. have different vibrational amplitude                              |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`T_DEBYE<T_DEBYE>`                                      | Debye temperature of the system (only for automatically generating :ref:`VIBROCC<VIBOCCIN>`)                                             |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`T_EXPERIMENT<T_EXPERIMENT>`                            | Measurement temperature in experiment (only for automatically generating :ref:`VIBROCC<VIBOCCIN>`)                                       |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`VIBR_AMP_SCALE<VIBR_AMP_SCALE>`                        | Scaling factor, only for automatically generating :ref:`VIBROCC<VIBOCCIN>`                                                               |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

.. _symmetry_settings:

Symmetry determination and control
==================================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`SYMMETRIZE_INPUT<SYMMETRY_NOMOVE>`                     | Whether to move atoms in the :ref:`POSCAR file<POSCAR>` to perfectly match the symmetry                                                  |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_BULK<SYMMETRYBULK>`                           | Manually set the symmetry to be used in beam averaging for the bulk, ignoring automatic detection                                        |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_EPS<SYMPREC>`                                 | Error tolerance during symmetry search                                                                                                   |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_FIX<ISYM>`                                    | Manually set a symmetry, or turn symmetry off                                                                                            |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_FIND_ORI<SYMMETRY_FIND_ORI>`                  | Whether the symmetry search should look for the highest-symmetry point.                                                                  |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Experimental setup
==================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`AVERAGE_BEAMS<AVERAGEBEAMS>`                           | Set beam averaging to assume an incidence other than :ref:`BEAM_INCIDENCE<BEAMINCIDENCE>`                                                |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`BEAM_INCIDENCE<BEAMINCIDENCE>`                         | Incidence angle and direction of the electron beam in experiment                                                                         |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`FILAMENT_WF<FILWF>`                                    | The LEED filament work function                                                                                                          |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SCREEN_APERTURE<SCREEN_APERTURE>`                      | The aperture of the acceptance cone of the LEED screen                                                                                   |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Inner potential
===============

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`V0_IMAG<v0_imag>`                                      | Imaginary part of the inner potential                                                                                                    |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`V0_REAL<MUFTIN>`                                       | Real part of the inner potential                                                                                                         |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`V0_Z_ONSET<INPOTZ>`                                    | How far from the topmost atom the inner potential begins                                                                                 |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Computational setup
===================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`FORTRAN_COMP<FORTRAN_COMP>`                            | Which fortran compiler to use, and tags for compiling                                                                                    |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | **→** :ref:`N_CORES<NCORES>`                                 | The number of CPUs to use                                                                                                                |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

R-factor
========

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`IV_SHIFT_RANGE<IVSHIFTRANGE>`                          | Range and step size for shifting experimental and theoretical curves during R-factor calculation                                         |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`R_FACTOR_TYPE<RFACTORTYPE>`                            | Which definition of the R-factor to use                                                                                                  |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`R_FACTOR_LEGACY<RFACTORLEGACY>`                        | Use legacy TensErLEED R-factor                                                                                                           |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`R_FACTOR_SMOOTH<RFACTORSMOOTH>`                        | How strongly experimental beams are smoothed                                                                                             |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

.. _search_settings:

Search behaviour
================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`PARABOLA_FIT<PARABOLA_FIT>`                            | Parameters for N-dimensional parabola fit during the search (experimental feature)                                                       |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_BEAMS<SEARCHBEAMS>`                             | Whether to use R-factor of integer, fractional, or all beams for the search                                                              |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_CONVERGENCE<SEARCH_CONVERGENCE>`                | Convergence criteria for the search, and convergence-dependent parameter control                                                         |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_CULL<SEARCH_CULL>`                              | Controls regular culling of worst-performing structures, and what to replace them with                                                   |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_MAX_GEN<SEARCHGENMAX>`                          | Maximum total number of generations that the search should run for                                                                       |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_POPULATION<SEARCHPOP>`                          | Number of trial structures used in parallel during the search                                                                            |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SEARCH_START<SEARCHSTART>`                             | How to initialize the search population                                                                                                  |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`OPTIMIZE<OPTIMIZE>`                                    | Controls behaviour of :ref:`full-dynamic optimization<Fdoptimization>` runs                                                              |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Structural domains
==================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`DOMAIN<DOMAIN>`                                        | Define domains for :ref:`calculations involving multiple coexisting structural domains<domain_calculation>`                              |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`DOMAIN_STEP<DOMAIN_STEP>`                              | Step width for structural domain coverage during search                                                                                  |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SYMMETRY_CELL_TRANSFORM<SYMMETRY_CELL_TRANSFORM>`      | Relationship between a supercell and the primitive surface unit cell (only relevant for :ref:`domain calculations<domain_calculation>`)  |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

TensErLEED approximations
=========================

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`ATTENUATION_EPS<INTMAXATT>`                            | Cutoff for beam propagation                                                                                                              |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`BULKDOUBLING_EPS<BULKDOUBLEEPS>`                       | Convergence criterion for bulk thickness in the TensErLEED calculation                                                                   |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`BULKDOUBLING_MAX<BULKDOUBLEITER>`                      | Maximum bulk thickness in TensErLEED calculation                                                                                         |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`LMAX<LMAX>`                                            | Maximum angular momentum number; usually determined via :ref:`PHASESHIFT_EPS<PHASESHIFTMIN>`                                             |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`PHASESHIFT_EPS<PHASESHIFTMIN>`                         | Cutoff in phaseshifts magnitudes to determine :ref:`LMAX<LMAX>`                                                                          |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Debugging
=========

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`KEEP_REFCALC_DIRS<keep_refcalc_dirs>`                  | Toggle to keep the reference calculating execution directories                                                                           |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`LAYER_STACK_VERTICAL<GEO_VERTSTACK>`                   | How to choose layer stacking vectors in the TensErLEED input (debugging functionality only)                                              |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`LOG_LEVEL<log_level>`                                  | Set verbosity of the log file                                                                                                            |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`LOG_SEARCH<LOG_SEARCH>`                                | Output the search log file (may be very large, mostly for debugging)                                                                     |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | :ref:`SUPPRESS_EXECUTION<SUPPRESS_EXE>`                      | Generate TensErLEED input files, but stop ViPErLEED before executing TensErLEED (for debugging)                                          |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Output style
============

.. table::
  :width: 100%
  :widths: 25 75

  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
  | Parameter                                                    | Function                                                                                                                                 |
  +==============================================================+==========================================================================================================================================+
  | :ref:`PLOT_IV<PLOT_COLORS_RFACTOR>`                          | Change appearance of the R-factor plot files                                                                                             |
  +--------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------+
